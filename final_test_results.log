   Compiling av1d-daemon v0.1.0 (/home/dark-rock/av1-janitor/crates/daemon)
   Compiling av1top v0.1.0 (/home/dark-rock/av1-janitor/crates/cli-tui)
   Compiling av1d v0.1.0 (/home/dark-rock/av1-janitor/crates/cli-daemon)
warning: variant `Complete` is never constructed
   --> crates/cli-tui/tests/tui_properties.rs:543:9
    |
538 |     enum JobStage {
    |          -------- variant in this enum
...
543 |         Complete,
    |         ^^^^^^^^
    |
    = note: `JobStage` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis
    = note: `#[warn(dead_code)]` on by default

warning: unused import: `save_job`
 --> crates/cli-tui/src/models/job.rs:2:60
  |
2 | pub use av1d_daemon::jobs::{Job, JobStatus, load_all_jobs, save_job};
  |                                                            ^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: use of deprecated method `ratatui::Frame::<'_>::size`: use .area() as it's the more correct name
    --> crates/cli-tui/src/main.rs:1996:18
     |
1996 |     let size = f.size();
     |                  ^^^^
     |
     = note: `#[warn(deprecated)]` on by default

warning: variants `Replacing` and `Complete` are never constructed
  --> crates/cli-tui/src/main.rs:28:5
   |
24 | enum JobStage {
   |      -------- variants in this enum
...
28 |     Replacing,      // Replacing original file
   |     ^^^^^^^^^
29 |     Complete,       // Job finished
   |     ^^^^^^^^
   |
   = note: `JobStage` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis
   = note: `#[warn(dead_code)]` on by default

warning: field `scroll_offset` is never read
  --> crates/cli-tui/src/main.rs:75:5
   |
72 | struct UiState {
   |        ------- field in this struct
...
75 |     scroll_offset: usize,
   |     ^^^^^^^^^^^^^
   |
   = note: `UiState` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `recent_completion_rate` is never read
   --> crates/cli-tui/src/main.rs:116:5
    |
105 | struct StatisticsCache {
    |        --------------- field in this struct
...
116 |     recent_completion_rate: f64,
    |     ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `StatisticsCache` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `skipped` is never read
   --> crates/cli-tui/src/main.rs:292:5
    |
286 | struct ColorScheme {
    |        ----------- field in this struct
...
292 |     skipped: Color,
    |     ^^^^^^^
    |
    = note: `ColorScheme` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: methods `status_color` and `codec_color` are never used
   --> crates/cli-tui/src/main.rs:344:8
    |
342 | impl ColorScheme {
    | ---------------- methods in this implementation
343 |     /// Get color for a job status
344 |     fn status_color(&self, status: &JobStatus) -> Color {
    |        ^^^^^^^^^^^^
...
365 |     fn codec_color(&self, codec: &str) -> Color {
    |        ^^^^^^^^^^^

warning: fields `show_detail_view`, `table_height`, and `is_very_small` are never read
   --> crates/cli-tui/src/main.rs:479:5
    |
475 | struct LayoutConfig {
    |        ------------ fields in this struct
...
479 |     show_detail_view: bool,
    |     ^^^^^^^^^^^^^^^^
...
485 |     table_height: u16,
    |     ^^^^^^^^^^^^
...
488 |     is_very_small: bool,
    |     ^^^^^^^^^^^^^
    |
    = note: `LayoutConfig` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `temp_file_path` is never read
   --> crates/cli-tui/src/main.rs:650:5
    |
649 | struct JobProgress {
    |        ----------- field in this struct
650 |     temp_file_path: PathBuf,
    |     ^^^^^^^^^^^^^^
    |
    = note: `JobProgress` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis

warning: function `estimate_space_savings_gb` is never used
   --> crates/cli-tui/src/main.rs:818:4
    |
818 | fn estimate_space_savings_gb(job: &Job) -> Option<f64> {
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: methods `update_message` and `detect_job_progress` are never used
    --> crates/cli-tui/src/main.rs:1169:8
     |
 877 | impl App {
     | -------- methods in this implementation
...
1169 |     fn update_message(&mut self) {
     |        ^^^^^^^^^^^^^^
...
1338 |     fn detect_job_progress(&mut self, job: &Job) {
     |        ^^^^^^^^^^^^^^^^^^^

warning: method `command_dir` is never used
   --> crates/cli-tui/src/models/config.rs:143:12
    |
117 | impl TranscodeConfig {
    | -------------------- method in this implementation
...
143 |     pub fn command_dir(&self) -> PathBuf {
    |            ^^^^^^^^^^^

warning: method `codec_color` is never used
   --> crates/cli-tui/src/main.rs:365:8
    |
342 | impl ColorScheme {
    | ---------------- method in this implementation
...
365 |     fn codec_color(&self, codec: &str) -> Color {
    |        ^^^^^^^^^^^

warning: `av1top` (test "tui_properties") generated 1 warning
warning: `av1top` (bin "av1top") generated 12 warnings (run `cargo fix --bin "av1top"` to apply 1 suggestion)
warning: `av1top` (bin "av1top" test) generated 11 warnings (10 duplicates)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 1.34s
     Running unittests src/main.rs (target/debug/deps/av1d-5c2bc395d3a311f7)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/av1d_daemon-7be87ebb5759c560)

running 18 tests
test config::tests::test_missing_config_file_uses_defaults ... ok
test config::tests::test_no_config_path_uses_defaults ... ok
test config::tests::test_encoder_preference_serialization ... ok
test config::tests::test_invalid_toml_syntax ... ok
test config::tests::test_validation_empty_library_roots ... ok
test config::tests::test_validation_invalid_max_size_ratio_above_one ... ok
test config::tests::test_quality_tier_serialization ... ok
test config::tests::test_validation_invalid_max_size_ratio_zero ... ok
test config::tests::test_validation_zero_concurrent_jobs ... ok
test config::tests::test_partial_config_with_defaults ... ok
test startup::tests::test_encoder_selection_specific_cases ... ok
test startup::tests::test_encoder_to_selected ... ok
test encode::tests::test_executor_creation ... ok
test startup::tests::test_encoder_selection_hierarchy ... ok
test startup::tests::test_version_rejection ... ok
test config::tests::prop_config_round_trip ... ok
test encode::tests::test_executor_slot_management ... ok
test startup::tests::test_ffmpeg_version_parsing ... ok

test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.22s

     Running tests/classify_properties.rs (target/debug/deps/classify_properties-4b4b7bf39d038d47)

running 11 tests
test test_1080p_bitrate_thresholds ... ok
test test_combined_disclike_scoring ... ok
test test_2160p_bitrate_thresholds ... ok
test test_disclike_keyword_case_insensitivity ... ok
test test_no_video_streams ... ok
test test_combined_weblike_scoring ... ok
test test_neutral_classification ... ok
test test_large_file_size_scoring ... ok
test test_vp9_codec_scoring ... ok
test test_weblike_keyword_case_insensitivity ... ok
test property_source_classification_scoring ... ok

test result: ok. 11 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s

     Running tests/concurrent_limiting_test.rs (target/debug/deps/concurrent_limiting_test-25344f022dd95c10)

running 1 test
test test_concurrent_job_limiting ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.77s

     Running tests/encode_properties.rs (target/debug/deps/encode_properties-cde98393e1e43fc4)

running 9 tests
test prop_pad_filter_application ... ok
test prop_weblike_flag_inclusion ... ok
test prop_svt_preset_selection ... ok
test prop_crf_selection_by_resolution ... ok
test prop_stream_mapping_command_construction ... ok
test prop_audio_and_subtitle_stream_copying ... ok
test prop_svt_av1_command_parameters ... ok
test prop_libaom_av1_command_parameters ... ok
test prop_concurrent_job_limiting ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.77s

     Running tests/gates_properties.rs (target/debug/deps/gates_properties-a363717bc2ca9405)

running 9 tests
test test_multiple_video_streams ... ok
test test_gate_evaluation_order ... ok
test test_size_just_above_threshold ... ok
test test_no_video_streams ... ok
test test_size_threshold_boundary ... ok
test test_valid_file_passes_gates ... ok
test test_skip_marker_gate ... ok
test property_av1_codec_detection_and_skip ... ok
test property_size_threshold_enforcement ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running tests/jobs_properties.rs (target/debug/deps/jobs_properties-c57c85da9865b283)

running 12 tests
test test_compilation ... ok
test test_load_from_nonexistent_directory ... ok
test test_load_skips_invalid_json ... ok
test test_save_creates_directory ... ok
test test_load_skips_temporary_files ... ok
test test_job_update_persistence ... ok
test test_status_update_persistence ... ok
test test_multiple_jobs_persistence ... ok
test test_valid_status_transitions ... ok
test test_timestamp_ordering ... ok
test property_job_status_transitions ... ok
test property_job_persistence ... ok

test result: ok. 12 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.06s

     Running tests/probe_properties.rs (target/debug/deps/probe_properties-1239f92d6427648e)

running 7 tests
test test_default_preference ... ok
test test_empty_stream_list ... ok
test test_first_stream_fallback ... ok
test test_single_stream ... ok
test test_various_codecs ... ok
test property_main_video_stream_selection ... ok
test property_ffprobe_json_parsing ... ok

test result: ok. 7 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running tests/probe_unit_tests.rs (target/debug/deps/probe_unit_tests-9a4f8dc23a738cb0)

running 5 tests
test test_default_preference ... ok
test test_empty_stream_list ... ok
test test_single_stream ... ok
test test_first_stream_fallback ... ok
test test_various_codecs ... ok

test result: ok. 5 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/replace_properties.rs (target/debug/deps/replace_properties-f47d9a78d20b1c7f)

running 9 tests
test test_original_file_missing ... ok
test test_new_file_missing ... ok
test test_keep_original_true ... ok
test test_special_characters_in_filename ... ok
test test_keep_original_false ... ok
test test_nested_directory_replacement ... ok
test test_large_file_replacement ... ok
test property_atomic_file_replacement ... ok
test test_multiple_replacements ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.10s

     Running tests/scan_properties.rs (target/debug/deps/scan_properties-f77285299635bed1)

running 10 tests
test test_empty_directory ... ok
test test_skip_marker_creation ... ok
test test_inaccessible_directory_handling ... ok
test test_deeply_nested_directories ... ok
test test_skip_marker_in_subdirectories ... ok
test test_skip_marker_various_extensions ... ok
test property_non_video_file_rejection ... ok
test property_video_file_extension_detection ... ok
test property_skip_marker_enforcement ... ok
test property_recursive_file_discovery ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.24s

     Running tests/sidecars_unit_tests.rs (target/debug/deps/sidecars_unit_tests-6840977e0a366b8f)

running 7 tests
test test_has_skip_marker_returns_false_when_no_marker ... ok
test test_create_skip_marker ... ok
test test_overwrite_why_file ... ok
test test_skip_marker_and_why_file_together ... ok
test test_skip_marker_in_subdirectory ... ok
test test_write_why_file ... ok
test test_skip_marker_with_various_extensions ... ok

test result: ok. 7 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/size_gate_properties.rs (target/debug/deps/size_gate_properties-ea6cb807c96c5694)

running 13 tests
test test_compression_ratio_accuracy ... ok
test test_excellent_compression ... ok
test test_max_ratio_one ... ok
test test_max_ratio_one_equal_size ... ok
test test_minimal_compression ... ok
test test_savings_calculation ... ok
test test_size_gate_boundary_below ... ok
test test_size_gate_boundary_above ... ok
test test_size_gate_boundary_equal ... ok
test test_size_increase ... ok
test test_strict_max_ratio ... ok
test test_strict_max_ratio_passes ... ok
test property_size_gate_enforcement ... ok

test result: ok. 13 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/stable_properties.rs (target/debug/deps/stable_properties-1374dab9a1a10bd1)

running 8 tests
test test_zero_byte_file_stability ... ok
test test_stable_file_no_changes ... ok
test test_unstable_file_growing ... ok
test test_file_deleted_during_check ... ok
test test_unstable_file_shrinking ... ok
test test_unstable_file_being_written ... ok
test test_stability_various_sizes ... ok
test property_stable_file_detection has been running for over 60 seconds
test property_stable_file_detection ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 77.68s

     Running tests/startup_integration.rs (target/debug/deps/startup_integration-eaaf307d8dba89bb)

running 2 tests
test test_encoder_hierarchy ... ok
test test_encoder_selection_integration ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/validate_properties.rs (target/debug/deps/validate_properties-b4a5370725fb0b1f)

running 8 tests
test test_invalid_output_duration_just_over_boundary ... ok
test test_invalid_output_duration_mismatch ... ok
test test_invalid_output_multiple_av1_streams ... ok
test test_invalid_output_no_av1_stream ... ok
test test_valid_output_duration_boundary ... ok
test test_valid_output_no_duration ... ok
test test_valid_output_single_av1_stream ... ok
test property_output_validation ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/main.rs (target/debug/deps/av1top-ad1049d2a70179c0)

running 18 tests
test tests::test_edge_cases ... ok
test tests::test_average_compression_ratio_calculation ... ok
test tests::test_keyboard_shortcut_uniqueness ... ok
test tests::test_full_rendering_pipeline ... ok
test tests::test_keyboard_shortcuts ... ok
test tests::test_refresh_cycle ... ok
test tests::test_state_transitions ... ok
test tests::test_success_rate_calculation ... ok
test tests::test_total_space_saved_with_various_job_sets ... ok
test tests::test_compression_ratio_calculation ... ok
test tests::test_progress_percentage_bounds ... ok
test tests::test_layout_responsiveness ... ok
test tests::test_color_scheme_consistency ... ok
test tests::test_detail_view_completeness ... ok
test tests::test_sort_order_consistency ... ok
test tests::test_selection_bounds ... ok
test tests::test_filter_consistency ... ok
test tests::test_statistics_accuracy ... ok

test result: ok. 18 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.11s

     Running tests/tui_properties.rs (target/debug/deps/tui_properties-4074ef9c09d760e4)

running 9 tests
test property_responsive_column_layout ... ok
test property_stage_detection ... ok
test property_eta_estimation ... ok
test property_progress_rate_calculation ... ok
test property_sort_mode_cycling ... ok
test property_statistics_calculation ... ok
test property_job_filtering ... ok
test property_tui_job_loading_with_invalid_files ... ok
test property_tui_job_loading ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.09s

   Doc-tests av1d_daemon

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

